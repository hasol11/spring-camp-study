<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
<mapper namespace="bbs">
<select id="list" resultType="com.ict.edu05.vo.BbsVO">
	select * from bbs_t order by b_idx desc
</select>

<insert id="insert" parameterType="com.ict.edu05.vo.BbsVO">
	insert into bbs_t(subject, writer, content, f_name, pwd, hit) 
	values(#{subject}, #{writer}, #{content}, #{f_name}, #{pwd},0)
</insert>

<update id="hitUp" parameterType="com.ict.edu05.vo.BbsVO">
	update bbs_t set hit = hit + 1 where b_idx= #{b_idx};
</update>

<select id="detail" parameterType="com.ict.edu05.vo.BbsVO" resultType="com.ict.edu05.vo.BbsVO">
	select * from bbs_t where b_idx = #{b_idx}
</select>

<!-- 삭제지만 실제로 삭제하지 않고 active=0을 1로 변경하자  -->
<update id="delete" parameterType="com.ict.edu05.vo.BbsVO" >
	update bbs_t set active=1 where b_idx = #{b_idx}
</update>

<update id="update"  parameterType="com.ict.edu05.vo.BbsVO">
	update bbs_t 
	set subject=#{subject}, writer=#{writer}, content=#{content}, f_name=#{f_name} 
	where b_idx = #{b_idx} 
</update>

</mapper>